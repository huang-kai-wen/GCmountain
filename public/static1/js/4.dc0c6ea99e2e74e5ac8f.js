webpackJsonp([4],{Dtko:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o("mvHQ"),i=o.n(s),a=o("Dd8w"),l=o.n(a),r=o("mtWM"),n=o.n(r),c=o("NYxO"),m={data:function(){return{form:{id:"",mutationType:"changesinglegoodsinfo",price:"",count:"",pic1base64:"",pic2base64:"",pic3base64:"",name:"",type1:"",hot:!1,isnew:!0,desc:""}}},computed:l()({},Object(c.b)(["getlocalapi","singlegoods"])),methods:{onSubmit:function(){var e=this;if(""!==this.form.price&&""!==this.form.count&&""!==this.form.pic1base64&&""!==this.form.pic2base64&&""!==this.form.pic3base64&&""!==this.form.name&&""!==this.form.type1&&""!==this.form.desc)n.a.post(this.getlocalapi+"/goods",i()(this.form)).then(function(t){if("ok"==t.data.code){var o=e.$createElement;e.$message({message:o("p",null,[o("span",null,"加入成功 "),o("i",{style:"color: teal"},"")])}),e.form.price="",e.form.count="",e.form.pic1base64="",e.form.pic2base64="",e.form.pic3base64="",e.form.name="",e.form.type1="",e.form.hot=!1,e.form.isnew=!0,e.form.desc=""}}).catch(function(e){console.log(e)});else{var t=this.$createElement;this.$message({message:t("p",null,[t("span",null,"数据未填写完整 "),t("i",{style:"color: teal"},"")])})}},getpic1base64:function(){var e=this,t=new FileReader,o=this.$refs.input1.files[0];o&&(t.readAsDataURL(o),t.onload=function(o){21e5<t.result.length?alert("上传失败，请上传不大于2M的图片！"):e.form.pic1base64=t.result})},getpic2base64:function(){var e=this,t=new FileReader,o=this.$refs.input2.files[0];o&&(t.readAsDataURL(o),t.onload=function(o){21e5<t.result.length?alert("上传失败，请上传不大于2M的图片！"):e.form.pic2base64=t.result})},getpic3base64:function(){var e=this,t=new FileReader,o=this.$refs.input3.files[0];o&&(t.readAsDataURL(o),t.onload=function(o){21e5<t.result.length?alert("上传失败，请上传不大于2M的图片！"):e.form.pic3base64=t.result})}},created:function(){console.log(this.singlegoods.goodsname),this.form.id=this.singlegoods.googsid,this.form.price=this.singlegoods.googsprice,this.form.count=this.singlegoods.googscount,this.form.pic1base64=this.singlegoods.googspic1base64,this.form.pic2base64=this.singlegoods.googspic2base64,this.form.pic3base64=this.singlegoods.googspic3base64,this.form.name=this.singlegoods.goodsname,this.form.type1=this.singlegoods.googstype,this.form.hot=this.singlegoods.googshot,this.form.isnew=this.singlegoods.googsisnew,this.form.desc=this.singlegoods.googsintrod}},f={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"myupbox"}},[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[o("el-form-item",{attrs:{label:"商品名称"}},[o("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品价格"}},[o("el-input",{attrs:{id:"myinput",placeholder:"单位￥/元："},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品数量"}},[o("el-input",{attrs:{id:"myinput",placeholder:"请填入整数，不要填一个/一条/一只等等"},model:{value:e.form.count,callback:function(t){e.$set(e.form,"count",t)},expression:"form.count"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品类型"}},[o("el-select",{attrs:{placeholder:"商品类型"},model:{value:e.form.type1,callback:function(t){e.$set(e.form,"type1",t)},expression:"form.type1"}},[o("el-option",{attrs:{label:"水果",value:"fruit"}}),e._v(" "),o("el-option",{attrs:{label:"蔬菜",value:"vegetables"}}),e._v(" "),o("el-option",{attrs:{label:"鱼",value:"fish"}}),e._v(" "),o("el-option",{attrs:{label:"肉",value:"meat"}}),e._v(" "),o("el-option",{attrs:{label:"蜂蜜",value:"bee"}}),e._v(" "),o("el-option",{attrs:{label:"菜干",value:"pickles"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"特别标志"}},[o("el-checkbox",{model:{value:e.form.hot,callback:function(t){e.$set(e.form,"hot",t)},expression:"form.hot"}},[e._v("设为热卖产品")]),e._v(" "),o("el-checkbox",{model:{value:e.form.isnew,callback:function(t){e.$set(e.form,"isnew",t)},expression:"form.isnew"}},[e._v("设为上市新品")])],1),e._v(" "),o("el-form-item",{attrs:{label:"商品简要说明"}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品第一张图片"}},[o("input",{ref:"input1",attrs:{type:"file"},on:{change:e.getpic1base64}}),e._v(" "),o("img",{attrs:{src:e.form.pic1base64,alt:""}})]),e._v(" "),o("el-form-item",{attrs:{label:"商品第二张图片"}},[o("input",{ref:"input2",attrs:{type:"file"},on:{change:e.getpic2base64}}),e._v(" "),o("img",{attrs:{src:e.form.pic2base64,alt:""}})]),e._v(" "),o("el-form-item",{attrs:{label:"商品第三章图片"}},[o("input",{ref:"input3",attrs:{type:"file"},on:{change:e.getpic3base64}}),e._v(" "),o("img",{attrs:{src:e.form.pic3base64,alt:""}})]),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确认修改")]),e._v(" "),o("el-button",[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var p=o("VU/8")(m,f,!1,function(e){o("sE9r")},"data-v-ad1de62a",null);t.default=p.exports},sE9r:function(e,t){}});
//# sourceMappingURL=4.dc0c6ea99e2e74e5ac8f.js.map